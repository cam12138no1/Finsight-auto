/*
 * FinSight Design System — Generated from design-system/finsight/MASTER.md
 *
 * Typography: IBM Plex Sans (heading + body) / IBM Plex Mono (numbers)
 * Style: Financial Dashboard · Data-Dense · Dark Mode (OLED)
 * Colors: Primary #0F172A · CTA #22C55E · Profit green · Loss red · Gold trust accent
 * Spacing: 4-8-16-24-32-48-64 px scale
 * Shadows: sm/md/lg/xl per MASTER.md
 * Radius: 8px buttons/inputs · 12px cards · 16px modals
 * Transitions: 200ms ease on all interactive elements
 * cursor-pointer: ALL clickable elements
 */

@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================================
   DESIGN TOKENS (from MASTER.md)
   ================================================================ */
@layer base {
  :root {
    /* MASTER.md Color Palette — light mode adaptation */
    --background: 210 20% 98%;         /* #F8FAFC adapted */
    --foreground: 222 47% 11%;         /* #0F172A */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 222 47% 11%;            /* #0F172A */
    --primary-foreground: 210 40% 98%;
    --secondary: 215 25% 27%;          /* #1E293B adapted */
    --secondary-foreground: 210 40% 98%;
    --muted: 220 14% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 142 71% 45%;             /* #22C55E — CTA green */
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;          /* #EF4444 — loss red */
    --destructive-foreground: 210 40% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 222 47% 11%;
    --radius: 0.5rem;                  /* 8px — MASTER.md buttons/inputs */

    /* MASTER.md Shadows */
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
    --shadow-lg: 0 10px 15px rgba(0,0,0,0.08);
    --shadow-xl: 0 20px 25px rgba(0,0,0,0.12);

    /* MASTER.md Spacing */
    --space-xs: 0.25rem;   /* 4px */
    --space-sm: 0.5rem;    /* 8px */
    --space-md: 1rem;      /* 16px */
    --space-lg: 1.5rem;    /* 24px */
    --space-xl: 2rem;      /* 32px */
    --space-2xl: 3rem;     /* 48px */

    /* Sidebar */
    --sidebar-bg: 222 47% 7%;
    --sidebar-text: 213 31% 91%;
    --sidebar-hover: 220 30% 12%;

    /* Financial semantic */
    --profit: 142 71% 45%;   /* #22C55E */
    --loss: 0 84% 60%;       /* #EF4444 */
    --gold: 43 74% 55%;      /* Trust gold */
  }

  /* MASTER.md: Dark Mode (OLED) — Background #020617, Text #F8FAFC */
  .dark {
    --background: 224 71% 3%;           /* #020617 */
    --foreground: 210 40% 98%;          /* #F8FAFC */
    --card: 222 47% 7%;                 /* #0F172A */
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 7%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222 47% 7%;
    --secondary: 215 25% 17%;           /* #1E293B */
    --secondary-foreground: 210 40% 98%;
    --muted: 220 20% 12%;
    --muted-foreground: 215 20% 60%;
    --accent: 142 71% 45%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 210 40% 98%;
    --border: 220 20% 14%;
    --input: 220 20% 14%;
    --ring: 210 40% 98%;

    --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.4);
    --shadow-lg: 0 10px 15px rgba(0,0,0,0.4);
    --shadow-xl: 0 20px 25px rgba(0,0,0,0.5);

    --sidebar-bg: 224 71% 2%;
    --sidebar-text: 215 20% 65%;
    --sidebar-hover: 220 25% 8%;
  }
}

@layer base {
  * { @apply border-border; }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }
  .font-mono, [class*="font-mono"] {
    font-family: 'IBM Plex Mono', ui-monospace, monospace;
  }
}

/* ================================================================
   COMPONENT CLASSES (from MASTER.md Component Specs)
   ================================================================ */
@layer components {
  /* --- Cards: radius 12px, padding 24px, shadow-md, hover shadow-lg --- */
  .fin-card {
    @apply bg-card rounded-xl border border-border/50 p-6
           transition-all duration-200 ease-out;
    box-shadow: var(--shadow-sm);
  }
  .fin-card:hover {
    box-shadow: var(--shadow-md);
  }
  .fin-card-interactive {
    @apply fin-card cursor-pointer;
  }
  .fin-card-interactive:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-1px);
  }

  /* --- Data labels & values --- */
  .data-label {
    @apply text-[11px] font-semibold text-muted-foreground uppercase tracking-[0.08em];
  }
  .data-value {
    @apply text-2xl font-bold text-foreground mt-1 font-mono tabular-nums tracking-tight;
  }

  /* --- Financial badges --- */
  .badge-profit {
    @apply bg-emerald-50 text-emerald-700 border border-emerald-200/60
           dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800/40;
  }
  .badge-loss {
    @apply bg-rose-50 text-rose-700 border border-rose-200/60
           dark:bg-rose-950/40 dark:text-rose-400 dark:border-rose-800/40;
  }

  /* --- Glass effect (glassmorphism) --- */
  .glass {
    @apply bg-white/70 dark:bg-slate-900/70 backdrop-blur-2xl
           border border-white/30 dark:border-slate-700/20;
  }

  /* --- Gradient button (CTA) --- */
  .btn-cta {
    @apply bg-emerald-500 text-white font-semibold rounded-lg px-6 py-3
           hover:bg-emerald-600 transition-all duration-200 cursor-pointer;
    box-shadow: 0 2px 8px rgba(34,197,94,0.25);
  }
  .btn-cta:hover {
    box-shadow: 0 4px 12px rgba(34,197,94,0.35);
  }

  /* --- Primary gradient button --- */
  .gradient-primary {
    @apply bg-gradient-to-r from-blue-600 to-indigo-600;
  }

  /* --- Financial data table --- */
  .fin-table { @apply w-full text-sm; }
  .fin-table thead tr {
    @apply border-b-2 border-border;
  }
  .fin-table thead th {
    @apply text-left px-4 py-3 text-[11px] font-semibold text-muted-foreground
           uppercase tracking-[0.06em] bg-muted/50;
  }
  .fin-table tbody tr {
    @apply border-b border-border/50
           hover:bg-accent/5 transition-colors duration-150 cursor-pointer;
  }
  .fin-table tbody td {
    @apply px-4 py-3;
  }

  /* --- Progress bar --- */
  .progress-track {
    @apply w-full h-1.5 bg-muted rounded-full overflow-hidden;
  }
  .progress-fill {
    @apply h-full rounded-full transition-all duration-700 ease-out;
  }

  /* --- Stat divider --- */
  .stat-divider {
    @apply h-8 w-px bg-border;
  }
}

/* ================================================================
   MASTER.md: Transitions 200ms ease on interactive elements
   ================================================================ */
button, a, [role="button"], select, input, textarea,
.fin-card, .fin-card-interactive {
  transition: all 200ms ease;
}

/* ================================================================
   MASTER.md: prefers-reduced-motion
   ================================================================ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* ================================================================
   SCROLLBAR
   ================================================================ */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  @apply bg-slate-300/50 dark:bg-slate-600/40 rounded-full;
}

/* ================================================================
   ACCESSIBILITY: Focus visible
   ================================================================ */
:focus-visible {
  @apply outline-none ring-2 ring-ring/40 ring-offset-2 ring-offset-background;
}

/* ================================================================
   ANIMATIONS
   ================================================================ */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
.animate-fade-in { animation: fade-in 0.25s ease-out; }
.animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }
